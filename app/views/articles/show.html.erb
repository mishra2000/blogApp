<%= link_to "home", articles_path %> <br/>
<span id="notice"><%= notice %></span>
<h1><%= @article.title %></h1>

<p><%= @article.body %></p>
<% if user_signed_in? && (current_user.id === @article.user_id) %>
<%= link_to "Edit",edit_article_path(@article) %>
<%= link_to "Delete",article_path(@article),method: :delete, data:{confirm: "Sure to delete?"}%>
<% end %>

<%# view comments %>

<h2>Comments</h2>
<% @article.comments.each do |comment| %>
  <p>
    <!-- <strong>Commenter:</strong> -->
    <%= comment.commenter %> &nbsp wrote &nbsp   <%= comment.body %>
  </p>
  <%if (user_signed_in? && (comment.user_id==current_user.id))||(user_signed_in? && current_user.id== @article.user_id)%>
  <p>
  <%= link_to 'Destroy Comment', [comment.article, comment],
              method: :delete,
              data: { confirm: "Are you sure?" } %>
  </p>
  <%end%>
<%end %>
<% if @article.comments.empty? %>
  <p>Be the first one to comment</p>
<%end%>

<%# comment form %>
<% if user_signed_in? %>

<h2>Add a comment:</h2>
<%= form_with model: [ @article, @article.comments.build ] do |form| %>
  <p>
    <%= form.label :commenter %><br>
    <%= form.text_field :commenter,value: current_user.email %>
  </p>
  <p>
    <%= form.label :body %><br>
    <%= form.text_area :body %>
  </p>
  <%= form.text_area :user_id, value: current_user.id %>
  <p>
    <%= form.submit %>
  </p>
<%end%>
<%end%>
